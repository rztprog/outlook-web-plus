"use strict";const greenColor="#498205";let startTimer=null,hideleftbanner=!0,hidepremiumad=!0,hidetopicons=!0,addnumberofmail=!0;const start=()=>{let e=document.getElementById("LeftRail");null!==e&&chrome.storage.local.get(null,function(e){loadVariables(e),clearInterval(startTimer),cleanLeftBanner(),rootFolder(),cleanMailPub(),cleanPremium(),mailCalculator(),selectAll(),addButtonClickListeners(),cleanTopBar()})};startTimer=setInterval(start,300),chrome.storage.onChanged.addListener(function(e){let t=Object.keys(e)[0];switch(t){case"hideleftbanner":hideleftbanner=e.hideleftbanner.newValue,cleanLeftBanner();break;case"hidepremiumad":hidepremiumad=e.hidepremiumad.newValue,cleanPremium();break;case"hidetopicons":hidetopicons=e.hidetopicons.newValue,cleanTopBar()}});const loadVariables=e=>{hideleftbanner=void 0===e.hideleftbanner?hideleftbanner:e.hideleftbanner,hidepremiumad=void 0===e.hidepremiumad?hidepremiumad:e.hidepremiumad,hidetopicons=void 0===e.hidetopicons?hidetopicons:e.hidetopicons,chrome.storage.local.set({hideleftbanner,hidepremiumad,hidetopicons})},cleanLeftBanner=()=>{let e=document.getElementById("LeftRail");e.style.display=hideleftbanner?"none":"block"},cleanPremium=()=>{let e=()=>{let e=document.querySelector(".Ogqyq");e&&(e.style.display=hidepremiumad?"none":"block",clearInterval(t))},t=setInterval(e,100)},cleanTopBar=()=>{let e=()=>{let e=document.getElementById("headerButtonsRegionId").children;e.length>=7&&(document.getElementById("owaMeetNowButton").style.display=hidetopicons?"none":"block",document.getElementById("skype_container").style.display=hidetopicons?"none":"block",document.getElementById("owaNoteFeedButton_container").style.display=hidetopicons?"none":"block",clearInterval(t))},t=setInterval(e,100)},cleanMailPub=()=>{let e=0,t=()=>{let t=document.querySelector(".cJ3F3");t&&(t.style.display="none",clearInterval(l)),e>20&&clearInterval(l),e++},l=setInterval(t,150)},rootFolder=()=>{document.querySelector(".wk4Sg").addEventListener("click",function(){cleanMailPub()})},selectAll=()=>{let e=()=>{let e=document.querySelector(".rk2CU"),l=document.querySelectorAll(".d1dnN");e&&l&&(l.forEach(e=>{e.addEventListener("click",()=>{"true"===e.getAttribute("aria-checked")&&setTimeout(mailCalculator,100)})}),e.addEventListener("click",()=>{"true"===e.getAttribute("aria-checked")&&setTimeout(mailCalculator,100)}),clearInterval(t))},t=setInterval(e,150)},mailCalculator=()=>{let e=()=>{let e=document.querySelector(".jXaVF");if(e){let l=e.innerText,n=document.querySelector(".hcptT"),i=n?n.getAttribute("aria-setsize"):0,a=/\s\(\d+ mails\)/;a.test(l)?e.innerHTML=l.replace(a,` <b style="color: ${greenColor}">(${i} mails)</b>`):e.innerHTML=`${l} <b style="color: ${greenColor}">(${i} mails)</b>`,clearInterval(t)}},t=setInterval(e,150)},addButtonClickListeners=()=>{let e=()=>{let e=document.querySelectorAll(".C2IG3");e&&(e.forEach(e=>{e.addEventListener("click",()=>{setTimeout(selectAll,100),setTimeout(mailCalculator,100)})}),clearInterval(t))},t=setInterval(e,150)};